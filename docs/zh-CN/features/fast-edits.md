# 快速编辑

:::info 默认设置
在 Kilo Code 中，快速编辑（使用"通过差异启用编辑"设置）默认是启用的。除非遇到特定问题或想要尝试不同的差异策略，否则通常不需要更改这些设置。
:::

Kilo Code 提供了一个高级设置，可以更改它编辑文件的方式，使用差异（diff）而不是重写整个文件。启用此功能提供了显著的优势。

## 启用通过差异编辑

打开设置，点击齿轮图标 <Codicon name="gear" /> → 高级

当**启用通过差异编辑**被勾选时：

    <img src="/docs/img/fast-edits/fast-edits-5.png" alt="Kilo Code 设置显示启用通过差异编辑" width="500" />
1. **更快的文件编辑**：Kilo 通过仅应用必要的更改来更快地修改文件。
2. **防止截断写入**：系统会自动检测并拒绝 AI 尝试写入不完整文件内容的情况，这可能发生在大型文件或复杂指令时。这有助于防止文件损坏。

:::note 禁用快速编辑
如果取消勾选**启用通过差异编辑**，Kilo 将恢复为每次编辑时使用 [`write_to_file`](/features/tools/write-to-file) 工具写入整个文件内容，而不是使用 [`apply_diff`](/features/tools/apply-diff) 应用目标更改。这种全量写入的方法在修改现有文件时通常较慢，并且会导致更高的 token 使用量。
:::

## 匹配精度

此滑块控制 AI 识别的代码部分在应用更改之前必须与实际文件中的代码匹配的紧密程度。

    <img src="/docs/img/fast-edits/fast-edits-4.png" alt="Kilo Code 设置显示启用通过差异编辑复选框和匹配精度滑块" width="500" />

*   **100%（默认）**：要求完全匹配。这是最安全的选项，最大限度地降低错误更改的风险。
*   **较低值（80%-99%）**：允许"模糊"匹配。即使代码部分与 AI 预期的内容有轻微差异，Kilo 也可以应用更改。这在文件被轻微修改时可能有用，但**会增加**在错误位置应用更改的风险。

**使用低于 100% 的值时要格外小心。** 较低精度可能偶尔是必要的，但始终要仔细审查提议的更改。

在内部，此设置会调整一个 `fuzzyMatchThreshold`，使用 Levenshtein 距离等算法来比较代码相似性。